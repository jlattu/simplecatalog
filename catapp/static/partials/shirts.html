<!DOCTYPE html>
<html ng-app>
<head>
    <meta charset="UTF-8">
    <title>Shirts for everyone!</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
</head>
<body ng-app="catApp">
    <div ng-controller="catalogCtrl">
        <select ng-model="sortingLimitSelected"
                ng-change="changeSortingLimit(sortingLimitSelected)">
            <option value="25">25</option>
            <option value="50">50</option>
            <option value="100">100</option>
            <option value="250">250</option>
        </select>
        <button ng-click=changeSortingOffset("-") ng-disabled="previousDisabled"><</button>
        <button ng-click=changeSortingOffset("+") ng-disabled="nextDisabled">></button>
        <button ng-click=loadData()>Refresh</button>

        <form name="newShirtForm" ng-submit="addNewShirt()">
            <label>Add new shirt</label>
            <div>
                Name <input type="text" name="shirtName" ng-model="newShirt.name" required>
            </div>
            <div>
                Color <input type="text" name="shirtColor" ng-model="newShirt.color" required>
            </div>
            <div>
                Size
                <select name="shirtSize" ng-model="newShirt.size">
                    <option value="">Choose size</option>
                    <option ng-repeat="size in shirtSizes"
                            value="{{size.sizeName}}">{{size.sizeName}}</option>
                </select>
                <span class="error" ng-show="validationFailed">Required!</span>
            </div>
            <div>
                Amount <input type="number" name="shirtAmount" ng-model="newShirt.amount" required>
            </div>
            <div>
                Price <input type="number" name="shirtAmount" ng-model="newShirt.price" required>
            </div>
            <input type="submit">
        </form>

        <table border = 1>
            <tr>
                <th ng-click=changeSortingKey("name")></th>
                <th ng-click=changeSortingKey("color")> Color </th>
                <th ng-click=changeSortingKey("size")> Size </th>
                <th ng-click=changeSortingKey("amount")> Amount </th>
                <th ng-click=changeSortingKey("price")> Price â‚¬ </th>
            </tr>
            <tr ng-repeat="x in shirts">
                <td>{{ x.name }}</td>
                <td>{{ x.color }}</td>
                <td>{{ x.size }}</td>
                <td>{{ x.amount }}</td>
                <td>{{ x.price }}</td>
                <td><button ng-click="deleteShirt(x.id)">DELETE</button></td>
            </tr>
        </table>
    </div>
   </body>
</html>